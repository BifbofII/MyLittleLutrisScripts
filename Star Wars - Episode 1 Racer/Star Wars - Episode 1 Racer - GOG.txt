files:
- swr: N/A:Please select the GOG installer
- dxwnd: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_14_build.rar
- audio: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Star%20Wars%20-%20Episode%201%20Racer/dsound.dll
game:
  args: /r:0
  exe: drive_c/dxwnd/dxwnd.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    name: create_prefix
    prefix: $GAMEDIR
- task:
    args: /SP- /SUPPRESSMSGBOXES
    description: Installing...
    executable: swr
    name: wineexec
    prefix: $GAMEDIR
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: dxwnd
- write_config:
    data:
      target:
        coord0: 3
        dflag0: 0
        fakec0: null
        faked0: null
        filterid0: 0
        flag0: 673202209
        flagg0: 1207959568
        flagh0: 65558
        flagi0: 136347652
        flagj0: 4224
        flagk0: 65536
        flagl0: 0
        flagm0: 0
        flagn0: 17825796
        flago0: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF000000000000000000000000000000C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C00000000000000000000000000000000000000000008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000000000000000000000000000000000000C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C0000000000000000000000000000000000000000000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000FFFFFF00C0C0C000C0C0C0000000000000000000000000000000000000000000000000000000000000000000000000008080800080808000000000000000000000000000000000000000000080808000808080008080800000000000808080008080800080808000808080008080800080808000C0C0C000C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00C0C0C000C0C0C00080808000000000000000000080808000808080008080800080808000808080008080800000000000000000000000000000000000000000008080800080808000000000000000000000000000808080000000000080808000C0C0C000C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00808080000000000000000000000000000000000000000000808080008080800080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000FFFFFF00C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00FFFFFF0080808000000000000000000000000000000000008080800000000000000000000000000000000000000000000000000000000000808080008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C00080808000C0C0C00080808000C0C0C000C0C0C000C0C0C00080808000C0C0C000FFFFFF00FFFFFF00FFFFFF00C0C0C00080808000000000000000000080808000808080000000000000000000000000000000000000000000000000008080800000000000000000000000000080808000C0C0C000C0C0C000C0C0C000C0C0C000FF000000C0C0C00080808000C0C0C000C0C0C00080808000C0C0C000C0C0C00080808000C0C0C000FFFFFF00FFFFFF00C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000C0C0C0008080800080808000FF0000008080800080808000C0C0C000C0C0C000C0C0C0008080800080808000C0C0C000C0C0C000FFFFFF00FFFFFF00C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000C0C0C0008080800080808000C0C0C000C0C0C000C0C0C00080808000C0C0C00080808000C0C0C00080808000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00FFFFFF008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000C0C0C000C0C0C0008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FF00000080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00808080000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000C0C0C0008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C0008080000080800000808080008080000080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00C0C0C000000000000000000000000000000000000000000080808000C0C0C000C0C0C000C0C0C00080808000808080008080800080808000808080008080800080808000808000008080000080808000808080008080000080800000808080008080800080800000C0C0C00080808000C0C0C000C0C0C00080808000C0C0C000C0C0C000C0C0C00000000000000000000000000080808000C0C0C000C0C0C000C0C0C00080808000808080008080800080800000808000008080800080808000808000008080000080808000808080008080800080800000808000008080000080808000808080008080000080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C0000000000000000000FFFFFF00FFFFFF00C0C0C000C0C0C0008080800080808000808000008080000080808000808000008080000080808000808080008080800080808000808080008080800080800000808000008080000080808000808080008080800080808000C0C0C000C0C0C000C0C0C000FFFFFF00FFFFFF00FFFFFF00C0C0C00000000000FFFFFF0000000000FFFFFF00C0C0C000C0C0C00080800000FF000000808080008080800080808000C0C0C000C0C0C0008080800080808000808080008080800080808000808080008080800080808000808080008080800080800000FF000000C0C0C000C0C0C000FFFFFF000000000000000000FFFFFF0080808000000000000000000000000000C0C0C000C0C0C000C0C0C000FF0000008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C000808080008080800080808000808080008080800080800000808080008080800080808000FF000000FF000000C0C0C000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000C0C0C000808080008080800000000000000000008080800080808000808080008080800080808000808080008080800000000000000000000000000080808000C0C0C000C0C0C000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C0008080800080808000808080008080800000000000808080008080800080808000808080008080800080808000808080008080800080808000C0C0C000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000808080008080800080808000C0C0C000808080008080800000808000808080000000000080808000C0C0C000808080008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C00080808000808080008080800000000000000000008080800000808000808080008080800000000000000000000000000000000000000000008080800080808000C0C0C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000808080008080800080808000C0C0C000C0C0C000808080008080800080808000808080008080800080808000C0C0C000C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C00080808000C0C0C000C0C0C000C0C0C00080808000C0C0C000C0C0C000C0C0C0008080800080808000808080008080800080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C0008080800080808000808080008080800080808000808080008080800080808000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C0008080800080808000C0C0C000C0C0C000C0C0C00080808000C0C0C000808080008000000080800000808080008080800080808000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C00080808000808080008080800080808000808080008080800080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000C0C0C000C0C0C0008080800080808000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E7FFFFF3E7FFFFF3E7FFFFF3E7FC1FF3E0000003E0000003E38001E3E0000003E0000003E0000023E0000013E0000003E0000003C00000038000000180000000A000000CE0000007F800001FFC00003FFE00007FFE00007FFE00007FFE0000FFFE0000FFFF0000FFFF0001FFFF100FFFFF181FFFFF1C3FFFFF3FFFFFFFFFFFFF
        initresh0: 600
        initresw0: 800
        initts0: 0
        launchpath0: C:\GOG Games\STAR WARS Racer\SWEP1RCR.EXE
        maxddinterface0: 7
        maxfps0: 0
        maxres0: -1
        module0: null
        monitorid0: -1
        notes0: null
        opengllib0: null
        path0: C:\GOG Games\STAR WARS Racer\SWEP1RCR.EXE
        posx0: 50
        posy0: 50
        registry0: null
        renderer0: 3
        scanline0: 0
        sizx0: 800
        sizy0: 600
        slowratio0: 2
        startfolder0: C:\GOG Games\STAR WARS Racer\
        swapeffect0: 0
        tflag0: 0
        title0: Star Wars Episode 1 Racer
        ver0: 0
        winver0: 0
      window:
        exepath: C:\GOG Games\STAR WARS Racer\SWEP1RCR.EXE
        expert: 1
        exportpath: C:\dxwnd\exports\
        posx: 50
        posy: 50
        sizx: 320
        sizy: 200
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- copy:
    dst: $GAMEDIR/drive_c/GOG Games/STAR WARS Racer/
    src: audio
- task:
    arch: win64
    key: dsound
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\DllOverrides\
    prefix: $GAMEDIR
    type: REG_SZ
    value: native,builtin
- task:
    arch: win64
    key: mswsock
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\DllOverrides\
    prefix: $GAMEDIR
    type: REG_SZ
    value: native,builtin
- task:
    arch: win64
    key: wsock32
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\DllOverrides\
    prefix: $GAMEDIR
    type: REG_SZ
    value: native,builtin
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- write_file:
    content: '


      ####### FORCEFEEDBACK SETTINGS



      FORCEFEEDBACK               STRENGTH=3

      FORCEFEEDBACK               AUTOCENTER=3

      FORCEFEEDBACK               COLLISIONS=2

      FORCEFEEDBACK               DAMAGE=2

      FORCEFEEDBACK               TERRAIN=2

      FORCEFEEDBACK               PODACTIONS=2

      FORCEFEEDBACK               GFORCES=ON

      FORCEFEEDBACK               ENGINERUMBLE=ON

      FORCEFEEDBACK               ENABLED=TRUE


      end.'
    file: $GAMEDIR/drive_c/GOG Games/STAR WARS Racer/data/config/current/force.cfg
- write_file:
    content: '

      ####### JOYSTICK MAPPINGS


      JOYSTICK                    BUTTON=HAT_UP               FUNCTION=CAMERA_CYCLE

      JOYSTICK                    BUTTON=HAT_DOWN             FUNCTION=LOOK_BACK

      JOYSTICK                    BUTTON=2                    FUNCTION=BRAKE

      JOYSTICK                    BUTTON=1                    FUNCTION=THRUST

      JOYSTICK                    BUTTON=3                    FUNCTION=BOOST

      JOYSTICK                    BUTTON=HAT_RIGHT            FUNCTION=ROLL_RIGHT

      JOYSTICK                    BUTTON=HAT_LEFT             FUNCTION=ROLL_LEFT

      JOYSTICK                    BUTTON=4                    FUNCTION=REPAIR

      JOYSTICK                    AXIS=X                      FUNCTION=TURN

      JOYSTICK                    AXIS=Y                      FUNCTION=PITCH

      JOYSTICK                    AXIS=Z                      FUNCTION=ANALOG_THROTTLE

      JOYSTICK                    AXIS=Z                      FUNCTION=BRAKE              AXIS_RANGE=POSITIVE

      JOYSTICK                    AXIS=RZ                     FUNCTION=ROLL_RIGHT         AXIS_RANGE=NEGATIVE

      JOYSTICK                    AXIS=RX                     FUNCTION=ROLL_LEFT          AXIS_RANGE=POSITIVE


      JOYSTICK                    AXIS=Y                      FLIP_AXIS

      JOYSTICK                    AXIS=Z                      FLIP_AXIS

      JOYSTICK                    ENABLED=TRUE



      ####### MOUSE MAPPINGS


      MOUSE                       BUTTON=4                    FUNCTION=LOOK_BACK

      MOUSE                       BUTTON=2                    FUNCTION=BRAKE

      MOUSE                       BUTTON=1                    FUNCTION=THRUST

      MOUSE                       BUTTON=3                    FUNCTION=SLIDE

      MOUSE                       AXIS=X                      FUNCTION=TURN

      MOUSE                       AXIS=Y                      FUNCTION=PITCH

      MOUSE                       AXIS=Z                      FUNCTION=ANALOG_THROTTLE


      MOUSE                       AXIS=Y                      FLIP_AXIS

      MOUSE                       ENABLED=FALSE



      ####### KEYBOARD MAPPINGS


      KEYBOARD                    KEY=~                       FUNCTION=CAMERA_CYCLE

      KEYBOARD                    KEY=LEFT_CTRL               FUNCTION=CAMERA_CYCLE

      KEYBOARD                    KEY=TAB                     FUNCTION=LOOK_BACK

      KEYBOARD                    KEY=Q                       FUNCTION=LOOK_BACK

      KEYBOARD                    KEY=S                       FUNCTION=BRAKE

      KEYBOARD                    KEY=W                       FUNCTION=THRUST

      KEYBOARD                    KEY=ENTER                   FUNCTION=THRUST

      KEYBOARD                    KEY=LEFT_SHIFT              FUNCTION=BOOST

      KEYBOARD                    KEY=SPACE                   FUNCTION=SLIDE

      KEYBOARD                    KEY=A                       FUNCTION=ROLL_LEFT

      KEYBOARD                    KEY=D                       FUNCTION=ROLL_RIGHT

      KEYBOARD                    KEY=RIGHT_CTRL              FUNCTION=SPECIAL

      KEYBOARD                    KEY=E                       FUNCTION=SPECIAL

      KEYBOARD                    KEY=R                       FUNCTION=REPAIR

      KEYBOARD                    KEY=LEFT_ARROW              FUNCTION=TURN_LEFT

      KEYBOARD                    KEY=J                       FUNCTION=TURN_LEFT

      KEYBOARD                    KEY=NUMPAD_4                FUNCTION=TURN_LEFT

      KEYBOARD                    KEY=RIGHT_ARROW             FUNCTION=TURN_RIGHT

      KEYBOARD                    KEY=L                       FUNCTION=TURN_RIGHT

      KEYBOARD                    KEY=NUMPAD_6                FUNCTION=TURN_RIGHT

      KEYBOARD                    KEY=DOWN_ARROW              FUNCTION=PITCH_UP

      KEYBOARD                    KEY=K                       FUNCTION=PITCH_UP

      KEYBOARD                    KEY=NUMPAD_2                FUNCTION=PITCH_UP

      KEYBOARD                    KEY=UP_ARROW                FUNCTION=PITCH_DOWN

      KEYBOARD                    KEY=I                       FUNCTION=PITCH_DOWN

      KEYBOARD                    KEY=NUMPAD_8                FUNCTION=PITCH_DOWN



      KEYBOARD                    ENABLED=TRUE


      end.'
    file: $GAMEDIR/drive_c/GOG Games/STAR WARS Racer/data/config/current/current_control.map
- write_file:
    content: '


      ####### VIDEO SETTINGS



      VIDEO                       REFLECTIONS=ON

      VIDEO                       ZEFFECTS=ON

      VIDEO                       DYNAMIC_LIGHTING=ON

      VIDEO                       VSYNC=ON

      VIDEO                       LENSFLARE=ON

      VIDEO                       ENGINEEXHAUST=ON

      VIDEO                       TEXTURE_RES=3

      VIDEO                       MODEL_DETAIL=3

      VIDEO                       DRAWDISTANCE=3


      end.'
    file: $GAMEDIR/drive_c/GOG Games/STAR WARS Racer/data/config/current/video.cfg
wine:
  Desktop: true

