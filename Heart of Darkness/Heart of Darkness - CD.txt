files:
- dxwnd: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_18_build.rar
game:
  args: /r:0
  exe: drive_c/dxwnd/dxwnd.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    name: create_prefix
    prefix: $GAMEDIR
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: dxwnd
- write_config:
    data:
      target:
        cdvol0: 100
        cdvol1: 100
        codepage0: 0
        codepage1: 0
        coord0: 3
        coord1: 1
        country0: 0
        country1: 0
        dflag0: 0
        dflag1: 0
        dflagb0: 0
        dflagb1: 0
        expert: 1
        fakec0: None
        faked0: None
        filterid0: 0
        filterid1: 0
        flag0: 673185825
        flag1: 673185824
        flagg0: 1207959568
        flagg1: 1212153872
        flagh0: 22
        flagh1: 22
        flagi0: 138444804
        flagi1: 138412036
        flagj0: 4224
        flagj1: 4224
        flagk0: 65536
        flagk1: 65536
        flagl0: 0
        flagl1: 0
        flagm0: 0
        flagm1: 0
        flagn0: 17825796
        flagn1: 17825796
        flago0: 0
        flago1: 0
        flagp0: 8192
        flagp1: 8192
        flagq0: 0
        flagq1: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800000000000000000000000000000000000000000008080800080808000808080008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000808080008080800000000000000000000000000000000000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00C0C0C000C0C0C000FFFFFF00C0C0C000FFFFFF00FFFFFF00C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00C0C0C000C0C0C000C0C0C00080808000000000000000000000000000000000008080800080808000C0C0C00080808000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000FFFFFF00FFFFFF00C0C0C00000000000000000000000000000000000000000000000000080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000FFFFFF00FFFFFF008080800000000000000000000000000000000000000000000000000080808000808080008080800000000000000000008080800080808000808080008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C000808080008080800080808000808080000000000080808000C0C0C000FFFFFF00C0C0C000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00C0C0C000808080000000000080808000FFFFFF00FFFFFF00808080000000000000000000000000000000000000000000000000000000000000000000808080008080800080808000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000080808000FFFFFF00FFFFFF008080800000000000C0C0C000FFFFFF00C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800080808000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFF00C0C0C0000000000080808000C0C0C000FFFFFF00808080000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080008080800000000000808080008080800000000000000000008080800080808000C0C0C000C0C0C000808080000000000080808000FFFFFF008080800000000000C0C0C000FFFFFF00FFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C000C0C0C000FFFFFF00FFFFFF00C0C0C00000000000C0C0C000C0C0C0000000000080808000C0C0C000FFFFFF008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C0008080800000000000808080008080800000000000C0C0C0008080800000000000C0C0C000C0C0C000FFFFFF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C00000000000C0C0C0000000000080808000C0C0C0000000000080808000C0C0C000FFFFFF0080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C000000000008080800000000000C0C0C000808080000000000080808000C0C0C000C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C000808080000000000080808000C0C0C000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C00000000000C0C0C000C0C0C0000000000080808000C0C0C000C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C00080808000C0C0C000808080000000000080808000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C000FFFFFF00C0C0C0000000000080808000C0C0C000C0C0C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C000808080000000000080808000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000000000008080800080808000C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800080808000000000008080800080808000808080008080800080808000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000808080008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000C0C0C000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080000000000080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E000000FC000000780000003800000038000000380000007C0000007C000000FE000000FE000001FF000001FF000003FF800003FF800007FFC00007FFC0000FFFE0000FFFE0001FFFF0001FFFF0003FFFF0003FFFF8007FFFF8007FFFFC00FFFFFC00FFFFFE01FFFFFE01FFFFFF03FFFFFF07FFFFFF8FFFFFFF8FFFFFFFCFFFF
        icon1: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800080808000808080008080800000000000000000000000000000000000000000008080800080808000808080008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000808080008080800000000000000000000000000000000000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00C0C0C000C0C0C000FFFFFF00C0C0C000FFFFFF00FFFFFF00C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFFF00C0C0C000C0C0C000C0C0C00080808000000000000000000000000000000000008080800080808000C0C0C00080808000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000C0C0C000FFFFFF00FFFFFF00C0C0C00000000000000000000000000000000000000000000000000080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000C0C0C000FFFFFF00FFFFFF008080800000000000000000000000000000000000000000000000000080808000808080008080800000000000000000008080800080808000808080008080800080808000808080008080800080808000C0C0C000C0C0C000C0C0C000808080008080800080808000808080000000000080808000C0C0C000FFFFFF00C0C0C000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800080808000C0C0C000C0C0C000C0C0C000C0C0C000FFFFFF00C0C0C000FFFFFF00FFFFFF00FFFFFF00FFFFFF00C0C0C000808080000000000080808000FFFFFF00FFFFFF00808080000000000000000000000000000000000000000000000000000000000000000000808080008080800080808000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000080808000FFFFFF00FFFFFF008080800000000000C0C0C000FFFFFF00C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800080808000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFF00C0C0C0000000000080808000C0C0C000FFFFFF00808080000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080008080800000000000808080008080800000000000000000008080800080808000C0C0C000C0C0C000808080000000000080808000FFFFFF008080800000000000C0C0C000FFFFFF00FFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C000C0C0C000FFFFFF00FFFFFF00C0C0C00000000000C0C0C000C0C0C0000000000080808000C0C0C000FFFFFF008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C0008080800000000000808080008080800000000000C0C0C0008080800000000000C0C0C000C0C0C000FFFFFF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C00000000000C0C0C0000000000080808000C0C0C0000000000080808000C0C0C000FFFFFF0080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080008080800000000000C0C0C000000000008080800000000000C0C0C000808080000000000080808000C0C0C000C0C0C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C000808080000000000080808000C0C0C000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C00000000000C0C0C000C0C0C0000000000080808000C0C0C000C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C00080808000C0C0C000808080000000000080808000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000C0C0C000FFFFFF00C0C0C0000000000080808000C0C0C000C0C0C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000C0C0C000808080000000000080808000C0C0C00080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000000000008080800080808000C0C0C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000808080008080800000000000000000008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000808080000000000080808000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800080808000000000008080800080808000808080008080800080808000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000808080008080800080808000C0C0C000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080000000000080808000C0C0C000C0C0C0008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000808080008080800080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080008080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
        initresh0: 600
        initresh1: 600
        initresw0: 800
        initresw1: 800
        initts0: 0
        initts1: 0
        initx0: 0
        inity0: 0
        lang0: 0
        lang1: 0
        launchpath0: C:\Program Files (x86)\Heart Of Darkness\HODWin32.exe
        launchpath1: C:\HODCD\HeartOfDarkness.EXE
        maxddinterface0: 7
        maxddinterface1: 7
        maxfps0: 0
        maxfps1: 0
        maxres0: -1
        maxres1: 3
        maxx0: 0
        maxy0: 0
        minx0: 0
        miny0: 0
        module0: None
        module1: None
        monitorid0: -1
        monitorid1: -1
        notes0: None
        notes1: None
        opengllib0: None
        opengllib1: None
        path0: C:\Program Files (x86)\Heart Of Darkness\HODWin32.exe
        path1: C:\HODCD\HeartOfDarkness.EXE
        posx0: 50
        posx1: 50
        posy0: 50
        posy1: 50
        registry0: None
        registry1: None
        renderer0: 3
        renderer1: 3
        scanline0: 0
        scanline1: 0
        sizx0: 800
        sizx1: 800
        sizy0: 600
        sizy1: 600
        slowratio0: 2
        slowratio1: 2
        startfolder0: C:\Program Files (x86)\Heart Of Darkness\
        startfolder1: C:\HODCD\
        swapeffect0: 0
        swapeffect1: 0
        tflag0: 0
        tflag1: 0
        title0: Heart of Darkness
        title1: Heart of Darkness CD Install
        ver0: 0
        ver1: 0
        winver0: 0
        winver1: 1
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- insert-disc:
    requires: bin/HODWin32.exe
- merge:
    dst: $GAMEDIR/drive_c/HODCD
    src: $DISC
- write_file:
    content: 'c:

      cd c:\hodcd

      copy HeartOfDarkness_Fr.EXE HeartOfDarkness.EXE

      copy HeartOfDarkness_En.EXE HeartOfDarkness.EXE

      copy HeartOfDarkness_Ge.EXE HeartOfDarkness.EXE

      cd c:\dxwnd

      start dxwnd.exe /r:1

      ping 127.0.0.1 -n 3 > nul

      dxwnd.exe /y:1'
    file: $GAMEDIR/drive_c/HODCD/install.bat
- task:
    description: Running setup of the game. Just proceed and keep all settings at
      their defaults
    executable: $GAMEDIR/drive_c/HODCD/install.bat
    name: wineexec
- task:
    arch: win64
    key: csmt
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\Direct3D\
    prefix: $GAMEDIR
    type: REG_DWORD
    value: '00000000'
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- move:
    dst: $CACHE
    src: $GAMEDIR/drive_c/HODCD
wine:
  Desktop: true

